{
  "name": "APPLICATION FOR A CERTIFICATE",
  "firstPage": "firstPage",
  "productName": "example.com",
  "homePageUrl": "https://example.com",
  "cookieSecret": "0123456789-abc",
  "pages": [
    {
      "id": "firstPage",
      "nextPage": "Completed",
      "preRequisiteData": null,
      "validation": null,
      "elements": [
        {
          "type": "Row2",
          "elements": [
            {
              "type": "Column",
              "columnWidth": "two-thirds",
              "elements": [
                {
                  "type": "Form",
                  "classes": "",
                  "elements": [
                    {
                      "type": "Heading",
                      "displayText": "KFP auth test heading"
                    },
                    { "type": "ErrorList", "title": "There is a problem" },
                    {
                      "type": "TextField",
                      "name": "f_text_1",
                      "displayText": "Short text input 47",
                      "autocomplete": null,
                      "validation": {
                        "regex": "^[a-zA-Z ]*$",
                        "error": "Only text allowed"
                      },
                      "classes": null,
                      "hint": ""
                    },
                    {
                      "type": "TextField",
                      "name": "f_text_2",
                      "displayText": "Phone number",
                      "autocomplete": null,
                      "validation": {
                        "regex": "^[0-9]*$",
                        "error": "Only numbers allowed"
                      },
                      "classes": null,
                      "hint": ""
                    },
                    {
                      "type": "SelectListField",
                      "name": "f_check_1",
                      "displayText": "Dropdown",
                      "validation": null,
                      "classes": null,
                      "hint": "",
                      "options": [
                        {
                          "value": "Choice 1",
                          "text": "Choice 1",
                          "valueText": "Choice 1"
                        },
                        {
                          "value": "Choice 2",
                          "text": "Choice 2",
                          "valueText": "Choice 2"
                        },
                        {
                          "value": "Choice 3",
                          "text": "Choice 3",
                          "valueText": "Choice 3"
                        }
                      ]
                    },
                    {
                      "type": "DatePickerField",
                      "name": "f_text_3",
                      "displayText": "Date",
                      "autocomplete": null,
                      "validation": null,
                      "classes": null,
                      "hint": ""
                    },
                    {
                      "type": "CheckboxField",
                      "name": "f_check_2",
                      "displayText": "Radio",
                      "validation": null,
                      "classes": null,
                      "hint": "",
                      "options": [
                        {
                          "value": "Radio option 1",
                          "text": "Radio option 1",
                          "valueText": "Radio option 1"
                        },
                        {
                          "value": "Radio option 2",
                          "text": "Radio option 2",
                          "valueText": "Radio option 2"
                        },
                        {
                          "value": "Radio option 3",
                          "text": "Radio option 3",
                          "valueText": "Radio option 3"
                        },
                        {
                          "value": "Radio option 4",
                          "text": "Radio option 4",
                          "valueText": "Radio option 4"
                        }
                      ]
                    },
                    { "type": "SubmitButton", "displayText": "Submit" }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "Completed",
      "nextPage": "",
      "preRequisiteData": null,
      "validation": null,
      "elements": [
        {
          "type": "Row2",
          "elements": [
            {
              "type": "Column",
              "columnWidth": "two-thirds",
              "elements": [
                {
                  "type": "Form",
                  "classes": "",
                  "elements": [
                    {
                      "type": "Panel",
                      "title": "Enquiry submitted",
                      "text": "Your reference number is <b>ABCD1234</b>"
                    },
                    {
                      "type": "Paragraph",
                      "displayText": "We have sent you a confirmation email."
                    },
                    {
                      "type": "SubHeading",
                      "displayText": "What happens next"
                    },
                    {
                      "type": "Paragraph",
                      "displayText": "We have sent your enquiry."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "apiMappings": {
    "serverError": {
      "title": "message",
      "fieldNames": "data[*].fieldName",
      "fieldErrorMessages": "data[*].errorMessage",
      "numErrors": "length(data)"
    }
  },
  "mappings": {
    "_SESSION-ID_": "_SESSION-ID_",
    "f_text_1": "f_text_1",
    "f_text_2": "f_text_2",
    "f_text_3": "Applicant.date",
    "f_check_1": "Applicant.dropdown",
    "f_check_2": "Applicant.radio"
  },
  "apiServiceDefinition": {
    "openapi": "3.0.1",
    "info": {
      "title": "form-submission-API",
      "version": "2024-06-13T12:12:41Z"
    },
    "servers": [
      {
        "url": "https://example-endpoint.com/{basePath}",
        "variables": { "basePath": { "default": "dev" } }
      }
    ],
    "paths": {
      "/submit-form/service": {
        "post": {
          "summary": "Final submission of form data",
          "operationId": "formSubmit",
          "requestBody": {
            "description": "order placed for purchasing the pet",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Form" }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "successful operation",
              "content": {
                "application/json": {
                  "schema": { "$ref": "#/components/schemas/ApiResponse" }
                },
                "application/xml": {
                  "schema": { "$ref": "#/components/schemas/ApiResponse" }
                }
              }
            },
            "400": {
              "description": "schemarror in data submitted",
              "content": {
                "application/json": {
                  "schema": { "$ref": "#/components/schemas/ErrorResponse" }
                },
                "application/xml": {
                  "schema": { "$ref": "#/components/schemas/ErrorResponse" }
                }
              }
            },
            "500": {
              "description": "server error",
              "content": {
                "application/json": {
                  "schema": { "$ref": "#/components/schemas/ApiResponse" }
                },
                "application/xml": {
                  "schema": { "$ref": "#/components/schemas/ApiResponse" }
                }
              }
            }
          }
        }
      }
    },
    "components": {
      "schemas": {
        "ApiResponse": {
          "type": "object",
          "properties": { "message": { "type": "string" } }
        },
        "ErrorResponse": {
          "type": "object",
          "properties": {
            "message": { "type": "string" },
            "data": {
              "type": "array",
              "xml": { "wrapped": true },
              "items": { "$ref": "#/components/schemas/ErrorData" }
            }
          }
        },
        "ErrorData": {
          "type": "object",
          "properties": {
            "fieldName": { "type": "string" },
            "errorMessage": { "type": "string" }
          }
        },
        "Form": {
          "type": "object",
          "properties": { "_SESSION-ID_": { "type": "string" } }
        }
      }
    }
  }
}
