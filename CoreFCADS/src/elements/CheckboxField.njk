{% macro element(elementData) %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}

{% set displayText = elementData.displayText | trans() %}

{% if elementData.valid %}
  {{ govukCheckboxes({
    idPrefix: elementData.name,
    name: elementData.name,
    fieldset: {
      legend: {
        text: displayText,
        isPageHeading: elementData.isPageHeading,
        classes: elementData.labelClasses
      }
    },
    items: elementData.options,
    hint: {
      text: elementData.hint | trans() 
    }
  }) }}
{% else %}
  {{ govukCheckboxes({
    idPrefix: elementData.name,
    name: elementData.name,
    fieldset: {
      legend: {
        text: displayText,
        isPageHeading: elementData.isPageHeading,
        classes: elementData.labelClasses
      }
    },
    items: elementData.options,
    hint: {
      text: elementData.hint | trans() 
    },
    errorMessage: {
      text: elementData.validation.error | trans({ for: displayText})
    }
  }) }}
{% endif %}
{% endmacro %}


